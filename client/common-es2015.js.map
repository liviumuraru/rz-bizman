{"version":3,"sources":["./src/app/core/player/player.service.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAkD;AACP;AACR;AACG;IAGzB,aAAa,SAAb,aAAa;IAGtB,YAAoB,UAAsB;QAAtB,eAAU,GAAV,UAAU,CAAY;QAF1C,sBAAiB,GAAG,IAAI,4CAAO,EAAO,CAAC;QAGnC,MAAM,CAAC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IAC1E,CAAC;IAEK,aAAa;;YACf,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,8BAA8B,EAAE,EAAE,CAAC,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;gBACpF,OAAO,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,2DAAI,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC;YAC5D,CAAC,CAAC,CAAC;QACP,CAAC;KAAA;IAEK,iBAAiB,CAAC,KAAwB;;;YAC5C,cAAQ,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,IAAI,0CAAE,OAAO,EAAE;gBAC1B,KAAK,yBAAyB;oBAC1B,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;oBAC7C,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC;oBAC1C,MAAM;gBAEV;oBACI,MAAM;aACb;;KACJ;CACJ;;YA9BQ,+DAAU;;AAMN,aAAa;IADzB,gEAAU,CAAC,EAAE,UAAU,EAAE,MAAM,EAAE,CAAC;GACtB,aAAa,CAwBzB;AAxByB","file":"common-es2015.js","sourcesContent":["import { HttpClient } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { of, Subject } from \"rxjs\";\r\nimport { take } from \"rxjs/operators\";\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class PlayerService {\r\n    playerDataSubject = new Subject<any>();\r\n\r\n    constructor(private httpClient: HttpClient) {\r\n        window.addEventListener('message', this.handleNativeEvent.bind(this));\r\n    }\r\n\r\n    async getPlayerData() {\r\n        return this.httpClient.post('https://bizman/getPlayerData', {}).toPromise().then(data => {\r\n            return this.playerDataSubject.pipe(take(1)).toPromise();\r\n        });\r\n    }\r\n\r\n    async handleNativeEvent(event: MessageEvent<any>) {\r\n        switch (event?.data?.message) {\r\n            case \"rz://bizman/player/data\":\r\n                this.playerDataSubject.next(event.data.data);\r\n                console.log('got player', event.data.data)\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n}"],"sourceRoot":"webpack:///"}